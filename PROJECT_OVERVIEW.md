# 📊 プロジェクト概要

## プロジェクト情報

| 項目 | 内容 |
|-----|------|
| **プロジェクト名** | 学校コミュニケーションアプリ |
| **バージョン** | 1.0.0 |
| **作成日** | 2025年12月17日 |
| **対象規模** | 生徒30名、職員10名 |
| **運用コスト** | 完全無料（Firebase & Vercel無料枠） |

## 📁 ファイル構成

```
school-communication-app/
├── index.html              # 生徒・保護者向けアプリ（メイン）
├── admin.html              # 管理者向けツール
├── firestore.rules         # Firestoreセキュリティルール
├── vercel.json             # Vercelデプロイ設定
├── sample_data.json        # サンプルデータ（初期データ参考）
├── .gitignore              # Git除外設定
├── README.md               # プロジェクト説明
├── SETUP_GUIDE.md          # 詳細セットアップガイド
├── USER_GUIDE.md           # ユーザー向け使い方ガイド
├── CHANGELOG.md            # 変更履歴
└── PROJECT_OVERVIEW.md     # このファイル
```

## 🎯 アプリケーション構成

### 生徒・保護者向けアプリ (`index.html`)

**URL**: `https://your-project.vercel.app/`

**主要機能**:
- 🔐 ログイン認証
- 🏠 ホーム（お知らせ・イベント表示）
- 📌 掲示板（投稿閲覧）
- 📅 カレンダー（イベント一覧）
- ✉️ メッセージ（受信・閲覧）

**デザイン**:
- レスポンシブ対応（スマホ最適化）
- Tailwind CSSによるモダンデザイン
- Font Awesomeアイコン
- コルクボード風掲示板
- 付箋風投稿デザイン

**対象ユーザー**:
- 生徒（role: student）
- 保護者（生徒アカウントで共有想定）

### 管理者向けツール (`admin.html`)

**URL**: `https://your-project.vercel.app/admin.html`

**主要機能**:
- 📊 ダッシュボード（統計表示）
- 📝 投稿管理（作成・編集・削除）
- 💬 メッセージ管理（送信・閲覧・削除）
- 👥 ユーザー管理（追加・削除・権限設定）
- 📆 イベント管理（登録・削除）

**デザイン**:
- PC最適化UI
- サイドバーナビゲーション
- ダッシュボード形式
- テーブル形式のデータ表示

**対象ユーザー**:
- 管理者（role: admin）
- 職員（role: staff）

## 🗄️ データベース構造

### Firestore コレクション

#### `users` コレクション
ユーザー情報を管理

| フィールド | 型 | 説明 |
|-----------|-----|------|
| uid | string | Firebase Auth UID（必須） |
| name | string | ユーザー名 |
| email | string | メールアドレス |
| role | string | 権限（admin/staff/student） |
| class | string | クラス情報（任意） |
| createdAt | timestamp | 作成日時 |

#### `posts` コレクション
掲示板投稿を管理

| フィールド | 型 | 説明 |
|-----------|-----|------|
| title | string | 投稿タイトル |
| content | string | 投稿内容 |
| authorId | string | 投稿者UID |
| authorName | string | 投稿者名 |
| createdAt | timestamp | 作成日時 |
| updatedAt | timestamp | 更新日時 |

#### `messages` コレクション
個別メッセージを管理

| フィールド | 型 | 説明 |
|-----------|-----|------|
| senderId | string | 送信者UID |
| senderName | string | 送信者名 |
| recipientId | string | 受信者UID |
| recipientName | string | 受信者名 |
| subject | string | 件名 |
| content | string | 内容 |
| isRead | boolean | 既読フラグ |
| createdAt | timestamp | 送信日時 |

#### `events` コレクション
イベント情報を管理

| フィールド | 型 | 説明 |
|-----------|-----|------|
| title | string | イベント名 |
| description | string | イベント説明 |
| eventDate | timestamp | イベント日時 |
| createdAt | timestamp | 作成日時 |

## 🔒 権限設定

### ユーザーロール

| ロール | 説明 | アクセス権 |
|-------|------|----------|
| **admin** | 管理者 | 全機能アクセス可能 |
| **staff** | 職員 | 投稿・メッセージ送信・イベント管理可能 |
| **student** | 生徒 | 閲覧・メッセージ受信のみ |

### 操作権限マトリクス

| 機能 | admin | staff | student |
|------|-------|-------|---------|
| 投稿閲覧 | ✅ | ✅ | ✅ |
| 投稿作成 | ✅ | ✅ | ❌ |
| 投稿削除 | ✅ | ✅ | ❌ |
| メッセージ閲覧 | ✅（全件） | ✅（自分関連） | ✅（受信のみ） |
| メッセージ送信 | ✅ | ✅ | ❌ |
| メッセージ削除 | ✅ | ❌ | ❌ |
| ユーザー追加 | ✅ | ❌ | ❌ |
| ユーザー削除 | ✅ | ❌ | ❌ |
| イベント登録 | ✅ | ✅ | ❌ |
| イベント削除 | ✅ | ✅ | ❌ |

## 🛠️ 技術スタック

### フロントエンド

| 技術 | バージョン | 用途 |
|------|-----------|------|
| HTML5 | - | マークアップ |
| Tailwind CSS | 3.x (CDN) | スタイリング |
| JavaScript | ES6+ | ロジック |
| Font Awesome | 6.4.0 (CDN) | アイコン |
| Google Fonts | - | フォント（Noto Sans JP） |

### バックエンド

| 技術 | プラン | 用途 |
|------|--------|------|
| Firebase Authentication | 無料 | ユーザー認証 |
| Cloud Firestore | 無料 | データベース |
| Firebase Storage | 無料 | ファイルストレージ（将来用） |

### ホスティング

| サービス | プラン | 用途 |
|----------|--------|------|
| Vercel | Hobby（無料） | Webホスティング |

## 📊 リソース使用量（40名規模での想定）

### Firebase 無料枠

| リソース | 無料枠 | 想定使用量 | 余裕 |
|----------|--------|-----------|------|
| Firestore読み取り | 50,000回/日 | ~2,000回/日 | ✅ 96% |
| Firestore書き込み | 20,000回/日 | ~500回/日 | ✅ 97.5% |
| Firestoreストレージ | 1GB | ~50MB | ✅ 95% |
| Authentication | 無制限 | 40ユーザー | ✅ |

### Vercel 無料枠

| リソース | 無料枠 | 想定使用量 | 余裕 |
|----------|--------|-----------|------|
| 帯域幅 | 100GB/月 | ~5GB/月 | ✅ 95% |
| ビルド時間 | 100時間/月 | ~1時間/月 | ✅ 99% |

**結論**: 完全無料枠内で快適に運用可能

## 🚀 デプロイフロー

```
開発 → Git Push → Vercel自動デプロイ → 本番環境
```

### デプロイ方法

1. **初回デプロイ**
   - Vercelアカウント作成
   - GitHubリポジトリ連携
   - 自動ビルド＆デプロイ

2. **更新デプロイ**
   - コード変更
   - Git commit & push
   - Vercelが自動デプロイ（約1分）

## 🔐 セキュリティ対策

### 実装済み

✅ Firebase Authentication による認証  
✅ Firestoreセキュリティルールによる権限管理  
✅ HTTPSによる通信暗号化（Vercel標準）  
✅ XSS対策ヘッダー設定  
✅ CSRF対策（Firebase標準機能）

### 推奨設定

- [ ] 定期的なパスワード変更
- [ ] ログイン履歴の監視
- [ ] 不正アクセスの検知
- [ ] バックアップの定期取得

## 📈 運用フェーズ

### Phase 1: 初期セットアップ（1日目）
- [ ] Firebaseプロジェクト作成
- [ ] Vercelデプロイ
- [ ] 管理者アカウント作成
- [ ] 動作確認

### Phase 2: ユーザー登録（2-3日目）
- [ ] 全職員アカウント作成
- [ ] 全生徒アカウント作成
- [ ] 初期パスワード配布
- [ ] ログイン動作確認

### Phase 3: コンテンツ準備（4-5日目）
- [ ] ウェルカムメッセージ投稿
- [ ] 年間イベント登録
- [ ] 使い方ガイド配布
- [ ] テスト運用開始

### Phase 4: 本番運用開始（6日目〜）
- [ ] 全ユーザーへURL共有
- [ ] 日常的な投稿開始
- [ ] フィードバック収集
- [ ] 改善対応

## 📞 サポート体制

### トラブル対応

| 問題の種類 | 対応者 | 対応方法 |
|-----------|--------|----------|
| ログインできない | 管理者 | Firebase Consoleで確認 |
| データが表示されない | 管理者 | セキュリティルール確認 |
| 操作方法がわからない | 職員 | USER_GUIDE.md参照 |
| 技術的問題 | 管理者 | README.md参照 |

## 🔄 メンテナンス

### 日次
- アクティビティログの確認
- 重要な投稿の作成

### 週次
- ユーザーアカウントの確認
- イベント情報の更新

### 月次
- 統計データの確認
- 不要データの削除
- バックアップ確認

### 学期末
- 過去データのアーカイブ
- 卒業生アカウントの削除
- 新入生アカウント準備

## 📚 ドキュメント索引

| ドキュメント | 用途 | 対象者 |
|-------------|------|--------|
| README.md | 全体概要 | 全員 |
| SETUP_GUIDE.md | 初期設定 | 管理者 |
| USER_GUIDE.md | 使い方 | 全ユーザー |
| PROJECT_OVERVIEW.md | 技術仕様 | 管理者・技術者 |
| CHANGELOG.md | 変更履歴 | 管理者 |

## 📝 今後の開発予定

### バージョン 1.1.0（予定）
- プッシュ通知機能
- 画像アップロード
- ファイル添付機能

### バージョン 1.2.0（予定）
- PWA対応
- オフライン機能
- ダークモード

### バージョン 2.0.0（予定）
- グループチャット
- ビデオ通話機能
- AI チャットボット

---

**作成日**: 2025年12月17日  
**最終更新**: 2025年12月17日  
**バージョン**: 1.0.0